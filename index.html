<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CuadrÃ­cula de Seguimiento - Ahorrar Dinero & NoFap</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .subtitle {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 30px;
            font-size: 18px;
        }
        
        .goals {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .goal {
            text-align: center;
            padding: 15px;
            border-radius: 8px;
            min-width: 200px;
        }
        
        .goal-money {
            background-color: #e8f5e8;
            border: 2px solid #27ae60;
        }
        
        .goal-nofap {
            background-color: #e3f2fd;
            border: 2px solid #3498db;
        }
        
        .goal h3 {
            margin: 0 0 10px 0;
            font-size: 18px;
        }
        
        .month-section {
            margin-bottom: 40px;
        }
        
        .month-title {
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 20px;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 3px;
            max-width: 700px;
            margin: 0 auto;
        }
        
        .day-header {
            background-color: #34495e;
            color: white;
            padding: 15px 5px;
            text-align: center;
            font-weight: bold;
            font-size: 14px;
        }
        
        .day-cell {
            border: 2px solid #bdc3c7;
            background-color: white;
            min-height: 60px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .day-cell:hover {
            background-color: #ecf0f1;
            transform: scale(1.05);
        }
        
        .day-cell.empty {
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            cursor: default;
        }
        
        .day-cell.empty:hover {
            transform: none;
            background-color: #f8f9fa;
        }
        
        .day-number {
            font-weight: bold;
            font-size: 16px;
            margin-bottom: 5px;
        }
        
        .checkboxes {
            display: flex;
            gap: 5px;
        }
        
        .checkbox {
            width: 20px;
            height: 20px;
            border: 2px solid #95a5a6;
            border-radius: 3px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .checkbox.money {
            border-color: #27ae60;
        }
        
        .checkbox.nofap {
            border-color: #3498db;
        }
        
        .checkbox.checked.money {
            background-color: #27ae60;
            color: white;
        }
        
        .checkbox.checked.nofap {
            background-color: #3498db;
            color: white;
        }
        
        .checkbox.checked::after {
            content: 'âœ“';
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100%;
            font-weight: bold;
            font-size: 14px;
        }
        
        .progress-section {
            margin-top: 30px;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 8px;
        }
        
        .progress-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .progress-bar {
            width: 200px;
            height: 20px;
            background-color: #ecf0f1;
            border-radius: 10px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            transition: width 0.3s ease;
        }
        
        .progress-money {
            background-color: #27ae60;
        }
        
        .progress-nofap {
            background-color: #3498db;
        }
        
        .reset-button {
            background-color: #e74c3c;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
            font-size: 16px;
        }
        
        .reset-button:hover {
            background-color: #c0392b;
        }
        
        @media (max-width: 768px) {
            .calendar-grid {
                grid-template-columns: repeat(7, 1fr);
                gap: 2px;
            }
            
            .day-cell {
                min-height: 50px;
            }
            
            .checkbox {
                width: 15px;
                height: 15px;
            }
            
            .goals {
                flex-direction: column;
                gap: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸŽ¯ CuadrÃ­cula de Seguimiento Personal</h1>
        <p class="subtitle">22 de Agosto - 20 de Septiembre 2025</p>
        
        <div class="goals">
            <div class="goal goal-money">
                <h3>ðŸ’° Ahorrar Dinero</h3>
                <p>Marca cada dÃ­a que logres tu meta de ahorro</p>
            </div>
            <div class="goal goal-nofap">
                <h3>ðŸ’ª Entrenar NoFap</h3>
                <p>Marca cada dÃ­a de progreso exitoso</p>
            </div>
        </div>
        
        <!-- Agosto 2025 -->
        <div class="month-section">
            <div class="month-title">ðŸ“… AGOSTO 2025</div>
            <div class="calendar-grid" id="august-calendar">
                <!-- El calendario de agosto se generarÃ¡ dinÃ¡micamente -->
            </div>
        </div>
        
        <!-- Septiembre 2025 -->
        <div class="month-section">
            <div class="month-title">ðŸ“… SEPTIEMBRE 2025</div>
            <div class="calendar-grid" id="september-calendar">
                <!-- El calendario de septiembre se generarÃ¡ dinÃ¡micamente -->
            </div>
        </div>
        
        <div class="progress-section">
            <h3>ðŸ“Š Progreso General</h3>
            <div class="progress-item">
                <span>ðŸ’° Ahorrar Dinero:</span>
                <div class="progress-bar">
                    <div class="progress-fill progress-money" id="progress-money"></div>
                </div>
                <span id="money-percentage">0%</span>
            </div>
            <div class="progress-item">
                <span>ðŸ’ª NoFap:</span>
                <div class="progress-bar">
                    <div class="progress-fill progress-nofap" id="progress-nofap"></div>
                </div>
                <span id="nofap-percentage">0%</span>
            </div>
            <button class="reset-button" onclick="resetAllData()">ðŸ”„ Reiniciar Todo</button>
        </div>
    </div>

    <script>
        // ConfiguraciÃ³n de fechas - Del 22 de agosto al 20 de septiembre 2025
        const startDate = new Date(2025, 7, 22); // 22 de agosto 2025 (mes 7 = agosto)
        const endDate = new Date(2025, 8, 20); // 20 de septiembre 2025 (mes 8 = septiembre)
        
        // DÃ­as de la semana
        const daysOfWeek = ['Dom', 'Lun', 'Mar', 'MiÃ©', 'Jue', 'Vie', 'SÃ¡b'];
        
        // Generar calendario para un mes especÃ­fico
        function generateMonthCalendar(year, month, containerId, startDay = 1, endDay = null) {
            const calendar = document.getElementById(containerId);
            
            // Agregar encabezados de dÃ­as
            daysOfWeek.forEach(day => {
                const header = document.createElement('div');
                header.className = 'day-header';
                header.textContent = day;
                calendar.appendChild(header);
            });
            
            // Obtener el primer dÃ­a del mes
            const firstDayOfMonth = new Date(year, month, 1);
            const startDayOfWeek = firstDayOfMonth.getDay();
            
            // Obtener el Ãºltimo dÃ­a del mes
            const lastDayOfMonth = new Date(year, month + 1, 0).getDate();
            
            // Agregar dÃ­as vacÃ­os al inicio si es necesario
            for (let i = 0; i < startDayOfWeek; i++) {
                const emptyCell = document.createElement('div');
                emptyCell.className = 'day-cell empty';
                calendar.appendChild(emptyCell);
            }
            
            // Determinar quÃ© dÃ­as mostrar
            const actualStartDay = Math.max(startDay, 1);
            const actualEndDay = endDay ? Math.min(endDay, lastDayOfMonth) : lastDayOfMonth;
            
            // Generar dÃ­as del mes
            for (let day = 1; day <= lastDayOfMonth; day++) {
                const currentDate = new Date(year, month, day);
                
                if (day >= actualStartDay && day <= actualEndDay) {
                    // Solo crear dÃ­as activos dentro del rango
                    if (currentDate >= startDate && currentDate <= endDate) {
                        const dayCell = createDayCell(currentDate);
                        calendar.appendChild(dayCell);
                    } else {
                        const emptyCell = document.createElement('div');
                        emptyCell.className = 'day-cell empty';
                        calendar.appendChild(emptyCell);
                    }
                } else {
                    // DÃ­as fuera del rango
                    const emptyCell = document.createElement('div');
                    emptyCell.className = 'day-cell empty';
                    calendar.appendChild(emptyCell);
                }
            }
            
            // Agregar dÃ­as vacÃ­os al final para completar la Ãºltima semana
            const totalCells = calendar.children.length - 7; // -7 por los headers
            const remainingCells = (7 - (totalCells % 7)) % 7;
            for (let i = 0; i < remainingCells; i++) {
                const emptyCell = document.createElement('div');
                emptyCell.className = 'day-cell empty';
                calendar.appendChild(emptyCell);
            }
        }
        
        // Crear celda de dÃ­a
        function createDayCell(date) {
            const cell = document.createElement('div');
            cell.className = 'day-cell';
            cell.setAttribute('data-date', formatDate(date));
            
            const dayNumber = document.createElement('div');
            dayNumber.className = 'day-number';
            dayNumber.textContent = date.getDate();
            
            const checkboxes = document.createElement('div');
            checkboxes.className = 'checkboxes';
            
            // Checkbox para ahorrar dinero
            const moneyCheckbox = document.createElement('div');
            moneyCheckbox.className = 'checkbox money';
            moneyCheckbox.title = 'Ahorrar Dinero';
            moneyCheckbox.onclick = (e) => {
                e.stopPropagation();
                toggleCheckbox(date, 'money');
            };
            
            // Checkbox para NoFap
            const nofapCheckbox = document.createElement('div');
            nofapCheckbox.className = 'checkbox nofap';
            nofapCheckbox.title = 'NoFap';
            nofapCheckbox.onclick = (e) => {
                e.stopPropagation();
                toggleCheckbox(date, 'nofap');
            };
            
            checkboxes.appendChild(moneyCheckbox);
            checkboxes.appendChild(nofapCheckbox);
            
            cell.appendChild(dayNumber);
            cell.appendChild(checkboxes);
            
            // Cargar estado guardado
            loadDayState(date, moneyCheckbox, nofapCheckbox);
            
            return cell;
        }
        
        // Toggle checkbox
        function toggleCheckbox(date, type) {
            const dateKey = formatDate(date);
            const storageKey = `tracker_${dateKey}_${type}`;
            
            const currentValue = localStorage.getItem(storageKey) === 'true';
            const newValue = !currentValue;
            
            localStorage.setItem(storageKey, newValue.toString());
            
            // Actualizar visual
            updateCheckboxVisual(date, type);
            updateProgress();
        }
        
        // Cargar estado del dÃ­a
        function loadDayState(date, moneyCheckbox, nofapCheckbox) {
            const dateKey = formatDate(date);
            
            const moneyChecked = localStorage.getItem(`tracker_${dateKey}_money`) === 'true';
            const nofapChecked = localStorage.getItem(`tracker_${dateKey}_nofap`) === 'true';
            
            if (moneyChecked) {
                moneyCheckbox.classList.add('checked');
            }
            
            if (nofapChecked) {
                nofapCheckbox.classList.add('checked');
            }
        }
        
        // Actualizar visual del checkbox
        function updateCheckboxVisual(date, type) {
            const dateKey = formatDate(date);
            const isChecked = localStorage.getItem(`tracker_${dateKey}_${type}`) === 'true';
            
            // Encontrar la celda especÃ­fica por fecha
            const cell = document.querySelector(`[data-date="${dateKey}"]`);
            if (cell) {
                const checkbox = cell.querySelector(`.checkbox.${type}`);
                if (checkbox) {
                    if (isChecked) {
                        checkbox.classList.add('checked');
                    } else {
                        checkbox.classList.remove('checked');
                    }
                }
            }
        }
        
        // Formatear fecha para almacenamiento
        function formatDate(date) {
            return `${date.getFullYear()}-${(date.getMonth() + 1).toString().padStart(2, '0')}-${date.getDate().toString().padStart(2, '0')}`;
        }
        
        // Calcular progreso
        function calculateProgress(type) {
            let totalDays = 0;
            let checkedDays = 0;
            
            const currentDate = new Date(startDate);
            while (currentDate <= endDate) {
                totalDays++;
                const dateKey = formatDate(currentDate);
                if (localStorage.getItem(`tracker_${dateKey}_${type}`) === 'true') {
                    checkedDays++;
                }
                currentDate.setDate(currentDate.getDate() + 1);
            }
            
            return {
                percentage: totalDays > 0 ? Math.round((checkedDays / totalDays) * 100) : 0,
                checked: checkedDays,
                total: totalDays
            };
        }
        
        // Actualizar barras de progreso
        function updateProgress() {
            const moneyProgress = calculateProgress('money');
            const nofapProgress = calculateProgress('nofap');
            
            document.getElementById('progress-money').style.width = `${moneyProgress.percentage}%`;
            document.getElementById('progress-nofap').style.width = `${nofapProgress.percentage}%`;
            
            document.getElementById('money-percentage').textContent = `${moneyProgress.percentage}% (${moneyProgress.checked}/${moneyProgress.total})`;
            document.getElementById('nofap-percentage').textContent = `${nofapProgress.percentage}% (${nofapProgress.checked}/${nofapProgress.total})`;
        }
        
        // Reiniciar todos los datos
        function resetAllData() {
            if (confirm('Â¿EstÃ¡s seguro de que quieres reiniciar todos los datos? Esta acciÃ³n no se puede deshacer.')) {
                // Limpiar localStorage
                const currentDate = new Date(startDate);
                while (currentDate <= endDate) {
                    const dateKey = formatDate(currentDate);
                    localStorage.removeItem(`tracker_${dateKey}_money`);
                    localStorage.removeItem(`tracker_${dateKey}_nofap`);
                    currentDate.setDate(currentDate.getDate() + 1);
                }
                
                // Recargar pÃ¡gina
                location.reload();
            }
        }
        
        // Inicializar aplicaciÃ³n
        document.addEventListener('DOMContentLoaded', function() {
            // Generar calendario de agosto (del 22 al 31)
            generateMonthCalendar(2025, 7, 'august-calendar', 22, 31);
            
            // Generar calendario de septiembre (del 1 al 20)
            generateMonthCalendar(2025, 8, 'september-calendar', 1, 20);
            
            updateProgress();
        });
    </script>
</body>
</html>
